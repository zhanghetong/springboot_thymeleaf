<!DOCTYPE html>
<!-- saved from url=(0044)https://getbootstrap.net/example/dashboard/# -->
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="layout.html">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <script type="text/javascript">
    function delUser(id) {
      $.ajax({ url: "/user/delete/"+id, method:"post", success: function(){
          window.location.href = "/list"
        }});
    }
  </script>

</head>
<body>
  <main layout:fragment="content" role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
    <div>
      <h2 style="float: left;">Section title</h2>
      <a href="/list">
        <button class="btn btn-primary btn-sm" style="float:right; margin-top: 10px;margin-bottom: 10px">
          <svg class="icon"><use xlink:href="#icon-refresh"></use></svg>
        </button>
      </a>
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-sm">
        <thead>
          <tr>
            <th>Id</th>
            <th>name</th>
            <th>age</th>
            <th>操作</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="user: ${userList}">
            <td th:text="${user.id}">1</td>
            <td th:text="${user.name}">张xx</td>
            <td th:text="${user.age}">18</td>
            <td>
              <a th:href="@{/userPage/}+${user.id}">
                  <svg  class="icon" aria-hidden="true"><use xlink:href="#icon-edit"></use></svg>
              </a>
              <a th:onclick="delUser([[${user.id}]])">
                <svg class="icon" aria-hidden="true"><use xlink:href="#icon-delete"></use></svg>
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <a th:href="@{/userPage}">
      <svg class="icon" aria-hidden="true"><use xlink:href="#icon-add"></use></svg>
    </a>
  </main>
</body>
</html>